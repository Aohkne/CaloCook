@startuml ViewDishDetail

actor User as "User/Admin"
boundary "DishDetailView" as View #lightblue
participant ":dishRoute" as Route #lightblue
control "dishController" as Controller #lightblue
participant ":dishService" as Service #lightblue
entity "dishModel" as Model #lightblue
database "MongoDB" as MongoDB #yellow

group View Dish Detail
User -> View: 1. Click on a dish
activate View

View -> Route: 2. GET /api/v1/dish/{dishId}
activate Route

Route -> Controller: 3. getDetails(req, res)
activate Controller

Controller -> Service: 4. getDetails(dishId)
activate Service

Service -> Model: 5. findDishById(dishId)
activate Model

Model -> MongoDB: 6. Execute find query
activate MongoDB
MongoDB --> Model: 7. Return dish document
deactivate MongoDB

Model --> Service: 8. Return dish
deactivate Model

alt Dish not found
    Service --> Controller: 9.1. Return 404 error
    Controller --> Route: 9.1.1. 404 Not Found
    Route --> View: 9.1.2. Show "Dish not found"
    View --> User: 9.1.3. Display error message
else Dish found
    Service --> Controller: 9.2. Return dish
    Controller --> Route: 9.2.1. 200 OK + dish detail
    Route --> View: 9.2.2. Render dish detail
    View --> User: 9.2.3. Display dish info details
end

deactivate Service
deactivate Controller
deactivate Route
deactivate View
end
@enduml
