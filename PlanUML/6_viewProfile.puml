@startuml ViewProfile

actor User
boundary "Profile Page" as View #lightblue
participant ":authRoute" as Route #lightblue
control "authController" as Controller #lightblue
participant ":authService" as Service #lightblue
entity "userModel" as Model #lightblue
database "MongoDB" as MongoDB #yellow

group View Profile
User -> View: 1.Click "Profile"
activate View
activate User

View -> Route: 2.GET /api/v1/auth/profile
activate Route

Route -> Controller: 3.getProfile(req, res)
activate Controller

Controller -> Service: 4.getProfile(userId)
activate Service

alt Service returns profile
    Service -> Model: 5.findUserById(userId)
    activate Model

    Model -> MongoDB: 6.ExecuteQuery()
    activate MongoDB
    MongoDB --> Model: 7.Return result
    deactivate MongoDB

    Model --> Service: 8.Return user data
    deactivate Model

    Service --> Controller: 8.1. Return profile info

    Controller --> Route: 8.1.1. Return success

    Route --> View: 8.1.2. Render user profile

    View --> User: 8.1.3. Show profile on screen
else Service fails to load data
    Service --> Controller: 8.2. Return Error("Failed to load profile")
    deactivate Service

    Controller --> Route: 8.2.1. Return error message
    deactivate Controller

    Route --> View: 8.2.2. Render error view
    deactivate Route

    View --> User: 8.2.3. Show error "Failed to load."
    deactivate View
    deactivate User
end

end
@enduml
// ...existing code...